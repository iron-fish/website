---
title: Multisig Accounts
seo-title: Multisig Accounts
---

## Create a multisig account

Iron Fish supports multisig accounts using [FROST](https://frost.zfnd.org/frost.html), a threshold signature scheme.

### Create a participant identity

Each signer or participant in an Iron Fish multisig account must first generate an identity

```sh
ironfish wallet:multisig:participant:create
```

The participant identity uniquely identifies the participant in the group. The identity is also a public key and allows other members of the group to encrypt data for that participant. The participant's secret key is stored in their Iron Fish wallet.

### Generate multisig account imports

Once all participants have created and shared their identities you can create a multisig account for the list of participant identities using [Trusted Dealer Key Generation](https://frost.zfnd.org/tutorial/trusted-dealer.html). When creating an account the trusted dealer must also specify the minumum number of signers required to sign a transaction.

```sh
ironfish wallet:multisig:dealer:create
```

Example:
<Terminal command="ironfish wallet:multisig:dealer:create \
-i 72c9f4746cc76d8a4d6a9a065fa78902cf6213842434e6de188cd5af04dec1022a3938c5e795f59b26b61600779f98650d784ff9f9c62d7b90d86ee15508ab16293a9b7b6de2851c1dc3bfc763fa5a4929ee284699ad984207df46cec8704c95f6e1e8a484df477b89d9e9cc8e14a859086868f618d971e256189e18afaa308a0b \
-i 72f64a2091abae9d5e46f16afcdff4cf4fd0acb593a006f60b61ca23656bc86fcb3aa013e98cc967f91d38e6ce62e607aaa0f63749ac510fd7c24451156ef54e1566d168a2f9e67518747f889713e688e986dd0d09a3eaab06be458da8b930f4dab2714c99d3b1961642c7c207bbd42b8159e8dbcd92efab95930c2d68a3bec307 \
-i 724921060d33a228e1f397573d1cbc47c219109350ca222b0e0a0ba612438a2decb3deca348420b66f685dacca5fd3bd84e4d080493a061984b1dd5a41d8138e01726991d9d959067bd3afe9630c325365ee98bc0b4b6d7087e295d1706dc19aa7317e5f2fcabb4f76edc5a5732400b8bda2240138a069d9e845258ef2464fff08 \
-m 2 \
-n MyMultisigAccount
"
  output={`
Account 1
Identity 72c9f4746cc76d8a4d6a9a065fa78902cf6213842434e6de188cd5af04dec1022a3938c5e795f59b26b61600779f98650d784ff9f9c62d7b90d86ee15508ab16293a9b7b6de2851c1dc3bfc763fa5a4929ee284699ad984207df46cec8704c95f6e1e8a484df477b89d9e9cc8e14a859086868f618d971e256189e18afaa308a0b
----------------
ifmsaccountnkRNm3IPBUK0BBz/sQg+Z4JuffsYKMQBeZ82hLnORggBAAAAlWi21Y+hl2hAO0Fun38bpSSYgbe8offURRTct6Scitu5CgAAnZFZy1WrH6zS6Ymvv6IWM...

Account 2
Identity 72f64a2091abae9d5e46f16afcdff4cf4fd0acb593a006f60b61ca23656bc86fcb3aa013e98cc967f91d38e6ce62e607aaa0f63749ac510fd7c24451156ef54e1566d168a2f9e67518747f889713e688e986dd0d09a3eaab06be458da8b930f4dab2714c99d3b1961642c7c207bbd42b8159e8dbcd92efab95930c2d68a3bec307
----------------
ifmsaccount6EkhMoZjM5pi/TzlJQIXDb2PCTRtpLlk+OmpBVZ0wHMBAAAAE0rqF3zwTQ1uKm4sX42rdgCnbg5eg12jpTllJFxJpky5CgAA4XvpWm/CWkGpmDqgXO3EJ...

Account 3
Identity 724921060d33a228e1f397573d1cbc47c219109350ca222b0e0a0ba612438a2decb3deca348420b66f685dacca5fd3bd84e4d080493a061984b1dd5a41d8138e01726991d9d959067bd3afe9630c325365ee98bc0b4b6d7087e295d1706dc19aa7317e5f2fcabb4f76edc5a5732400b8bda2240138a069d9e845258ef2464fff08
----------------
ifmsaccountAKLQe4HMT9QpBO9Kls3NHIstM05KO01NUFZb3RicZCwBAAAAgq3GMK8peqPmGFW+q/xyYhHsVAE1PUkSpHKu+gX7kVi5CgAA7sDEk6AaayQmo89XY4WMS...
  `}
/>

The command above outputs a list of serialized accounts, one per participant. The account for a participant contains the shared group keys and the signing key for that participant. Each participant's account is encrypted, so only the participant who created the matching identity can import the account.

The dealer should share the output of the command with the multisig participants and each participant should import their account:

```sh
ironfish wallet:import
```

## Create and sign a transaction with multisig

Sending a transaction from a multisig account requires that at least the minimum number of signers (set at account creation) signs the transaction.

### Step 1: Create an unsigned transaction

Any participant in the group can initiate sending a transaction by creating an unsigned transaction using the `send` command:

```sh
ironfish wallet:send --unsignedTransaction
```

After creating the unsigned transaction the participant must share it with the rest of the group.

### Step 2: Identify signers

Before beginning the signing process, participants who will sign the transaction must communicate that they plan to sign the transaction and share their identity with other signers. This list of identities for planned signers is an input to the next step.

### Step 3: Create signing commitments

Each member of the group must first create a "signing commitment" for the given transaction and list of signer identities.

```sh
ironfish wallet:multisig:commitment:create
```

Example:
<Terminal command="ironfish wallet:multisig:commitment:create \
-i 723f415e10ec47955036105834ab7dcc...89557882a9d3834e9ee9a82dc4ac2f0a \
-i 721cb9582cec837588df0b08d77d4870...2b269850be9d80d1f8360fa57df0a306 \
-u 01010000000000000002000000000000...9f3fb432907a84c8483586a6a565d308"
  output={`
==================
Notes sent:
==================

Amount:        $IRON 0.00000010
Memo:          
Recipient:     95b4d767410460fb8f093c1261c9a499ceae23801c14bde88675b27cf1c5718c
Sender:        ca860e5c6c87118f738e1764a87b1cec1913e3e624237bddecb88d289a445c2c


==================
Notes received:
==================

Amount:        $IRON 0.00099989
Memo:          
Recipient:     ca860e5c6c87118f738e1764a87b1cec1913e3e624237bddecb88d289a445c2c
Sender:        ca860e5c6c87118f738e1764a87b1cec1913e3e624237bddecb88d289a445c2c


Confirm signing commitment creation (Y/N): Y

Commitment:

07749d787c6f3c0bce91fb3f3869c96b...342022941ff351bd60723b9a9aa2d29a
  `}
/>

Each participant must use the same list of identities from Step 2.

### Step 4: Aggregate signing commitments

One participant must act as a "coordinator" and aggregate all signing commitments from Step 3 to produce the "signing package" for the transaction.

```sh
ironfish wallet:multisig:commitment:aggregate
```

Example:
<Terminal command="ironfish wallet:multisig:commitment:aggregate \
-c 723f415e10ec47955036105834ab7dcc...342022941ff351bd60723b9a9aa2d29a \
-c 721cb9582cec837588df0b08d77d4870...abc27377671c68323af864b57b718380 \
-u 01010000000000000002000000000000...9f3fb432907a84c8483586a6a565d308"
  output={`
Signing Package for commitments from 2 participants:

f100000000c3d2051e0257eb8aaee9aa...9844a3e90873a5a5808e83417c336105
  `}
/>

### Step 5: Create signature shares

Each participant who created a signing commitment in Step 3 must now create a signature share by signing the signing package from Step 4.

```sh
ironfish wallet:multisig:signature:create
```

Example: 
<Terminal command="ironfish wallet:multisig:signature:create -s f100000000c3d2051e0257eb8aaee9aa...9844a3e90873a5a5808e83417c336105"
  output={`
==================
Notes sent:
==================

Amount:        $IRON 0.00000010
Memo:          
Recipient:     95b4d767410460fb8f093c1261c9a499ceae23801c14bde88675b27cf1c5718c
Sender:        ca860e5c6c87118f738e1764a87b1cec1913e3e624237bddecb88d289a445c2c


==================
Notes received:
==================

Amount:        $IRON 0.00099989
Memo:          
Recipient:     ca860e5c6c87118f738e1764a87b1cec1913e3e624237bddecb88d289a445c2c
Sender:        ca860e5c6c87118f738e1764a87b1cec1913e3e624237bddecb88d289a445c2c


Confirm new signature share creation (Y/N): Y

Signature share:

721cb9582cec837588df0b08d77d4870...ad47e9f3ba751c77ec7530708d1d2b07
  `}
/>

### Step 6: Aggregate signature shares

After every participant who committed to signing the transaction in Step 2 has created and shared a signature share, one participant must aggregate the signature shares to produce a single signature and sign the transaction. The signature aggregation command broadcasts the signed transaction to the network by default.

```sh
ironfish wallet:mutisig:signature:aggregate
```

Example: 
<Terminal command="ironfish wallet:multisig:signature:aggregate \
-s 723f415e10ec47955036105834ab7dcc...be94dd1ae640f3fcf8bddb9478a0cb02 \
-s 721cb9582cec837588df0b08d77d4870...ad47e9f3ba751c77ec7530708d1d2b07 \
-p f100000000c3d2051e0257eb8aaee9aa...9844a3e90873a5a5808e83417c336105"
  output={`
Signing the multisig transaction... done
Hash: a28ce23d635b1552bdf4897fa3d8f93447a7aa78a3d43985bf2029ff3e4098ba
Fee: $IRON 0.00000001
  `}
/>
